<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mapa de Stands Enumerados (Editable y Ajustado)</title>
  <style>
    body {
      background: #f5f5f5;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
    }
    svg {
      border: 1px solid #ccc;
      background: white;
      width: 95vw; /* ocupar casi todo el ancho */
      height: auto;
    }
    .stand {
      fill: rgba(0, 123, 255, 0.25);
      stroke: #003366;
      stroke-width: 1;
      cursor: pointer;
      transition: fill 0.2s;
    }
    .stand:hover {
      fill: rgba(255, 165, 0, 0.5);
    }
    text {
      font-family: Arial, sans-serif;
      font-weight: bold;
      fill: #000;
      pointer-events: auto; /* permite clics */
      user-select: text;
      text-anchor: middle; /* centrado horizontal */
      dominant-baseline: middle; /* centrado vertical */
    }
  </style>
</head>
<body>
  <svg preserveAspectRatio="xMidYMid meet">
    <!-- JS generará los stands aquí -->
  </svg>

  <script>
    // Datos de los stands
    const stands = [
      { id: 1, x: 543.6, y: 280.6, w: 117, h: 58 },
      { id: 2, x: 661.6, y: 280.6, w: 58, h: 58 },
      { id: 3, x: 720.6, y: 280.6, w: 58, h: 58 },
      { id: 4, x: 779.6, y: 280.6, w: 58, h: 58 },
      { id: 5, x: 838.6, y: 280.6, w: 58, h: 58 },
      { id: 6, x: 897.6, y: 280.6, w: 58, h: 58 },
      { id: 7, x: 956.6, y: 280.6, w: 58, h: 58 },
      { id: 8, x: 1015.6, y: 280.6, w: 58, h: 58 },
      { id: 9, x: 1074.6, y: 280.6, w: 58, h: 58 },
      { id: 10, x: 1133.6, y: 280.6, w: 58, h: 58 },
      { id: 11, x: 1192.6, y: 280.6, w: 117, h: 58 },
      { id: 12, x: 1310.6, y: 339.6, w: 58, h: 58 },
      { id: 13, x: 1310.6, y: 398.6, w: 58, h: 117 },
      { id: 14, x: 1310.6, y: 516.6, w: 58, h: 117 },
      { id: 15, x: 1310.6, y: 1199.6, w: 58, h: 117 },
      { id: 16, x: 1310.6, y: 845.6, w: 58, h: 117 },
      { id: 17, x: 1310.6, y: 1081.6, w: 58, h: 58 },
      { id: 18, x: 1310.6, y: 1140.6, w: 58, h: 58 },
      { id: 19, x: 1192.6, y: 1317.6, w: 117, h: 58 },
      { id: 20, x: 1133.6, y: 1317.6, w: 58, h: 58 },
      { id: 21, x: 1074.6, y: 1317.6, w: 58, h: 58 },
      { id: 22, x: 356.2, y: 1494.1, w: 58, h: 58 },
      { id: 23, x: 356.2, y: 1683.9, w: 58, h: 58 },
      { id: 24, x: 356.2, y: 1935.8, w: 58, h: 58 },
      { id: 25, x: 374.7, y: 1873.7, w: 39.5, h: 55.1 },
      { id: 26, x: 374.7, y: 2125.6, w: 39.5, h: 60 },
      { id: 27, x: 374.4, y: 1559.1, w: 39.9, h: 117.8 },
      { id: 28, x: 374.4, y: 1748.9, w: 39.9, h: 117.8 },
      { id: 29, x: 374.4, y: 2000.8, w: 39.9, h: 117.8 },
      { id: 30, x: 1412.5, y: 1993.1, w: 58, h: 58 },
      { id: 31, x: 1412.5, y: 1686.3, w: 58, h: 58 },
      { id: 32, x: 1412.5, y: 1494.1, w: 58, h: 58 },
      { id: 33, x: 1412.5, y: 1621.3, w: 58, h: 58 },
      { id: 34, x: 1412.5, y: 2058.1, w: 39.9, h: 137.3 },
      { id: 35, x: 1412.5, y: 1876.2, w: 39.9, h: 109.9 },
      { id: 36, x: 1412.5, y: 1751.3, w: 39.9, h: 117.9 },
      { id: 37, x: 1412.5, y: 1559.1, w: 39.9, h: 55.2 },
      { id: 38, x: 544.4, y: 2218.3, w: 58, h: 58 },
      { id: 39, x: 1005.3, y: 2218.3, w: 58, h: 58 },
      { id: 40, x: 1193.6, y: 2218.3, w: 78, h: 58 },
      { id: 41, x: 734.2, y: 2218.3, w: 78.5, h: 58 },
      { id: 42, x: 819.7, y: 2218.3, w: 116.3, h: 58 },
      { id: 43, x: 1070.3, y: 2218.3, w: 116.3, h: 58 },
      { id: 44, x: 943, y: 2218.3, w: 55.3, h: 38.4 },
      { id: 45, x: 419.6, y: 2218.3, w: 117.8, h: 39.9 },
      { id: 46, x: 609.4, y: 2218.3, w: 117.8, h: 39.9 },
      { id: 47, x: 1278.6, y: 2218.3, w: 117.8, h: 39.9 },
      { id: 48, x: 661.6, y: 1317.6, w: 117, h: 58 },
      { id: 49, x: 602.6, y: 1317.6, w: 58, h: 58 },
      { id: 50, x: 485.9, y: 1317.6, w: 115.7, h: 58 },
      { id: 51, x: 968.1, y: 827.9, w: 58, h: 58 },
      { id: 52, x: 968.1, y: 768.9, w: 58, h: 58 },
      { id: 53, x: 850.1, y: 827.9, w: 117, h: 58 },
      { id: 54, x: 850.1, y: 768.9, w: 117, h: 58 }
    ];

    const svg = document.querySelector("svg");

    // Calcular límites totales para ajustar el viewBox
    let minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity;

    stands.forEach(s => {
      minX = Math.min(minX, s.x);
      minY = Math.min(minY, s.y);
      maxX = Math.max(maxX, s.x + s.w);
      maxY = Math.max(maxY, s.y + s.h);
    });

    // Añadir un margen de 5%
    const margin = 50;
    const width = maxX - minX + margin * 2;
    const height = maxY - minY + margin * 2;

    svg.setAttribute("viewBox", `${minX - margin} ${minY - margin} ${width} ${height}`);

    // Dibujar los stands
    stands.forEach(s => {
      const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
      rect.setAttribute("x", s.x);
      rect.setAttribute("y", s.y);
      rect.setAttribute("width", s.w);
      rect.setAttribute("height", s.h);
      rect.classList.add("stand");
      svg.appendChild(rect);

      const fontSize = Math.min(s.w, s.h) * 0.6;

      const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
      text.setAttribute("x", s.x + s.w / 2);
      text.setAttribute("y", s.y + s.h / 2);
      text.setAttribute("font-size", fontSize);
      text.setAttribute("contenteditable", "true");
      text.textContent = s.id;
      text.setAttribute("contenteditable", true);
      text.setAttribute("spellcheck", false);
      text.style.cursor = "text";
      text.style.userSelect = "text";
      text.style.whiteSpace = "pre";
      text.setAttribute("xml:space", "preserve");

      svg.appendChild(text);
    });
  </script>
</body>
</html>
